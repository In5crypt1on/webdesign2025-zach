<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minimal Bidirectional Drag Drop</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .dragging { opacity: 0.4; }
    </style>
</head>
<body class="p-6 bg-gray-50">

    <h1 class="text-xl font-bold mb-4 text-center">Move items between zones</h1>

    <div 
        id="source" 
        class="drop-zone p-4 border-4 border-dashed border-blue-400 bg-blue-50 min-h-[120px] rounded mb-4"
    >
        <p class="font-semibold text-blue-700 mb-2">Source (Initial) Zone</p>
        <div id="source-content" class="flex gap-2">
            <div 
                id="item-A" 
                draggable="true" 
                class="bg-red-500 text-white p-3 rounded shadow cursor-move"
            >
                Item A
            </div>
        </div>
    </div>

    <div 
        id="target" 
        class="drop-zone p-4 border-4 border-dashed border-gray-400 bg-white min-h-[120px] rounded"
    >
        <p class="font-semibold text-gray-700 mb-2">Target Zone</p>
        <div id="target-content" class="flex gap-2">
            <div 
                id="item-B" 
                draggable="true" 
                class="bg-green-500 text-white p-3 rounded shadow cursor-move"
            >
                Item B
            </div>
        </div>
    </div>

    <script>
        const dropZones = document.querySelectorAll('.drop-zone');
        const items = document.querySelectorAll('[draggable="true"]');

        items.forEach(item => {
            item.addEventListener('dragstart', (event) => {
                event.dataTransfer.setData('text/plain', event.target.id);
                event.target.classList.add('dragging');
                event.dataTransfer.effectAllowed = 'move';
            });

            item.addEventListener('dragend', (event) => {
                event.target.classList.remove('dragging');
            });
        });

        dropZones.forEach(zone => {
            zone.addEventListener('dragover', (event) => {
                event.preventDefault(); 
                zone.style.borderColor = '#FBBF24';
            });

            zone.addEventListener('dragleave', () => {
                const isSource = zone.id === 'source';
                zone.style.borderColor = isSource ? '#60A5FA' : '#9CA3AF'; 
            });

            zone.addEventListener('drop', (event) => {
                event.preventDefault();

                const data = event.dataTransfer.getData('text/plain');
                const draggedElement = document.getElementById(data);

                if (draggedElement) {
                    zone.querySelector(`div[id$="-content"]`).appendChild(draggedElement);
                    
                    const isSource = zone.id === 'source';
                    zone.style.borderColor = isSource ? '#60A5FA' : '#9CA3AF';
                    
                    draggedElement.setAttribute('draggable', 'true');
                }
            });
        });
    </script>
</body>
</html>

